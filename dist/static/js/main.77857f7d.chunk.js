(this["webpackJsonpsantrac-front-end"]=this["webpackJsonpsantrac-front-end"]||[]).push([[0],{110:function(e,t,c){},235:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(23),s=c.n(r),i=c(7),o=(c(64),c(50)),l=(c(110),c(10)),j=c(4),d=(c(111),c(28)),u=c(3),b=c(9),h=c(0),m=function(){return Object(h.jsxs)("div",{className:"footer",children:[Object(h.jsxs)("h6",{className:"copy-right",children:["copyright santrac groupe ",(new Date).getFullYear()]}),Object(h.jsxs)("div",{className:"socials",children:[Object(h.jsx)(b.f,{className:"social-icon"}),Object(h.jsx)(b.i,{className:"social-icon"}),Object(h.jsx)(b.o,{className:"social-icon"}),Object(h.jsx)(b.e,{className:"social-icon"})]})]})},O=function(e){e.url;return Object(h.jsx)("div",{className:"about-image"})},x=function(e){var t=e.title,c=e.text;return Object(h.jsxs)("div",{className:"mission",children:[Object(h.jsx)("h5",{className:"mission__title",children:t}),Object(h.jsx)("p",{className:"mission__text",children:c})]})},p=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),c=t[0],r=t[1],s=Object(n.useState)(!1),o=Object(u.a)(s,2),l=o[0],j=o[1],d=function(){r(!c)},m=localStorage.getItem("token");return Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsxs)("nav",{className:"mobile-nav",children:[Object(h.jsxs)("div",{className:"mobile-nav__header",children:[Object(h.jsx)("h2",{className:"mobile-logo",children:"SanTrac"}),Object(h.jsx)(b.c,{onClick:d,className:"bars"})]}),c&&Object(h.jsxs)("ul",{className:"mobile-nav--links",children:[Object(h.jsxs)("div",{className:"mobile-nav__header",children:[Object(h.jsx)("h2",{className:"mobile-logo",children:"SanTrac"}),Object(h.jsx)(b.m,{onClick:d,className:"bars"})]}),Object(h.jsx)("li",{className:"mobile-list--item",children:Object(h.jsx)(i.b,{to:"/",className:"mobile--link",children:"Home"})}),Object(h.jsx)("li",{className:"mobile-list--item",children:Object(h.jsx)(i.b,{to:"#about",className:"mobile--link",children:"about"})}),Object(h.jsx)("li",{className:"mobile-list--item",children:Object(h.jsx)(i.b,{to:"/product",className:"mobile--link",children:"Product"})}),Object(h.jsx)("li",{className:"mobile-list--item",children:Object(h.jsx)(i.b,{to:"#",className:"mobile--link",children:"Contact"})}),Object(h.jsxs)("li",{className:"mobile-list--item",children:[!m&&Object(h.jsx)(i.b,{to:"/login",className:"mobile--link",children:"Login"}),m&&Object(h.jsx)(i.b,{to:"/logout",className:"mobile--link",children:"Logout"})]})]})]}),Object(h.jsxs)("div",{className:"navbar-desktop",children:[Object(h.jsxs)("ul",{className:"desktop-nav--links",children:[Object(h.jsx)("li",{className:"desktop-list--item",children:Object(h.jsx)(i.b,{to:"/",className:"desktop--link",children:"Home"})}),Object(h.jsx)("li",{className:"desktop-list--item",children:Object(h.jsx)(i.b,{to:"#about",className:"desktop--link",children:"About"})}),Object(h.jsx)("li",{className:"desktop-list--item",children:Object(h.jsx)(i.b,{to:"/products",className:"desktop--link",children:"Products"})}),Object(h.jsx)("li",{className:"desktop-list--item",children:Object(h.jsx)(i.b,{to:"#",className:"desktop--link",children:"Contact"})}),Object(h.jsxs)("li",{className:"desktop-list--item",children:[!m&&Object(h.jsx)(i.b,{to:"/login",className:"mobile--link",children:"Login"}),m&&Object(h.jsx)(i.b,{to:"/logout",className:"mobile--link",children:"Logout"})]})]}),Object(h.jsxs)("div",{className:"desktop-search--area",children:[l&&Object(h.jsx)("input",{type:"text",placeholder:"Search",autoFocus:!0}),!l&&Object(h.jsx)(b.k,{onClick:function(){j(!l)},className:"search-icon"})]})]})]})},f=function(e){var t=e.name,c=e.price,n=e.image,a=e.handleClick,r=e.showPrice,s=void 0!==r&&r;return Object(h.jsxs)("div",{onClick:a,className:"product",children:[Object(h.jsx)("img",{src:n,alt:"",className:"product__image"}),Object(h.jsx)("h5",{className:"product__name",children:t}),Object(h.jsxs)("p",{className:"product__price",children:[s&&"GHS",c]})]})},g=function(e){var t=e.text;return Object(h.jsx)("h2",{className:"section--header",children:t})},v=function(e){var t=e.title,c=e.text,n=e.children;return Object(h.jsxs)("div",{className:"service",children:[n,Object(h.jsx)("h4",{className:"service__title",children:t}),Object(h.jsx)("p",{className:"service__text",children:c})]})},N=function(e){var t=e.text,c=e.handleClick,n=e.type;return Object(h.jsx)("button",{type:"submit",onClick:c,className:"button ".concat(n),children:t})},y=function(e){e.image;var t=[1,2,3],c=Object(n.useState)(0),a=Object(u.a)(c,2),r=a[0],s=a[1],i=function(){if(r<t.length-1)return s(r+1);s(0)},o=function(){if(0===r)return s(t.length-1);s(r-1)};return Object(h.jsx)("div",{children:t.map((function(e,t){if(t===r)return Object(h.jsxs)("div",{className:"slide",children:[Object(h.jsx)(b.a,{onClick:o,className:"back-arrow"}),Object(h.jsx)(b.b,{onClick:i,className:"front-arrow"}),Object(h.jsxs)("div",{className:"hero--text-container",children:[Object(h.jsx)("div",{className:"hero--text",children:"SanTrac groupe"}),Object(h.jsx)("div",{className:"hero--button-container",children:Object(h.jsx)(N,{text:"view more",type:"button--primary"})})]})]})}))})},k=c(6),w=c.n(k),S=c(13),C=c(38),_=c(14),q=c(96),P=c.n(q).a.create({baseURL:"https://santrac.herokuapp.com/",headers:{"x-auth-token":localStorage.getItem("token")}}),I={get:P.get,post:P.post,put:P.put,delete:P.delete},L=[{_id:1,name:"Wall tiles",price:120,description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Vero temporibus",image:"https://firebasestorage.googleapis.com/v0/b/northlinc-51fbb.appspot.com/o/wale-tile.jpg?alt=media&token=cedab714-8a30-474a-b0d4-01abebecf769"},{_id:2,name:"emulsion paint",price:200,description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Vero temporibus",image:"https://firebasestorage.googleapis.com/v0/b/northlinc-51fbb.appspot.com/o/emulsion-paint.png?alt=media&token=d62405c8-d442-454e-a6bc-edea33d6b90c"},{_id:3,name:"azar oil paint",price:1300,description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Vero temporibus",image:"https://firebasestorage.googleapis.com/v0/b/northlinc-51fbb.appspot.com/o/azar.jpg?alt=media&token=74acaf8b-1a9a-4fe4-8a4b-d0327d407d9b"},{_id:4,name:"aluminium windows",price:500,description:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Vero temporibus",image:"https://firebasestorage.googleapis.com/v0/b/northlinc-51fbb.appspot.com/o/al-windows.jpg?alt=media&token=8bdbb182-1ffc-43f9-9e91-599fedfbe909"}];function A(){return E.apply(this,arguments)}function E(){return(E=Object(_.a)(w.a.mark((function e(){var t,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("products/all");case 3:return t=e.sent,c=t.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function H(){return(H=Object(_.a)(w.a.mark((function e(t){var c,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("products/get/".concat(t));case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function T(){return(T=Object(_.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.post("orders/",t);case 3:Object(j.b)("Thanks for your order. You'll be contacted soon"),localStorage.setItem("cart",JSON.stringify([])),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function F(){return D.apply(this,arguments)}function D(){return(D=Object(_.a)(w.a.mark((function e(){var t,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("products/all/categories");case 3:return t=e.sent,c=t.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function J(e){return U.apply(this,arguments)}function U(){return(U=Object(_.a)(w.a.mark((function e(t){var c,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.post("products/add/categories",t);case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function W(){return(W=Object(_.a)(w.a.mark((function e(){var t,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("orders/");case 3:return t=e.sent,c=t.data,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function G(e,t){return V.apply(this,arguments)}function V(){return(V=Object(_.a)(w.a.mark((function e(t,c){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.put("products/category/".concat(t),c);case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var B=function(){var e=JSON.parse(localStorage.getItem("cart")),t=Object(l.g)();return Object(h.jsxs)("div",{onClick:function(){t.push("/checkout")},className:"cart-container",children:[Object(h.jsx)(b.l,{className:"cart"}),Object(h.jsx)("p",{children:e?e.length:0})]})},R=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(l.g)();Object(n.useEffect)((function(){A().then((function(e){a(e.filter((function(e,t){return t<4})))})).catch((function(e){return Object(j.b)("Error connecting to the server")}))}),[]);return Object(h.jsxs)("div",{className:"block",children:[Object(h.jsx)(p,{}),Object(h.jsx)(y,{}),Object(h.jsx)("section",{className:"hot-sale-section",children:[].concat(L).map((function(e){return Object(h.jsx)(f,{image:e.image,name:e.name,price:e.description})}))}),Object(h.jsxs)("section",{className:"services-section",children:[Object(h.jsx)(g,{text:"Know our services"}),Object(h.jsx)("p",{className:"services--tagline",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum, eveniet."}),Object(h.jsxs)("div",{className:"services-container",children:[Object(h.jsx)(v,{title:"Real estate",text:"We have a lot of real estate projects under our belt. We deliver with competence",children:Object(h.jsx)(b.g,{className:"service__icon"})}),Object(h.jsx)(v,{title:"Building and construction",text:"We have a lot of real estate projects under our belt. We deliver with competence",children:Object(h.jsx)(b.d,{className:"service__icon"})}),Object(h.jsx)(v,{title:"sales of building and construction equipment and materials",text:"We have a lot of real estate projects under our belt. We deliver with competence",children:Object(h.jsx)(b.n,{className:"service__icon"})}),Object(h.jsx)(v,{title:"Architecture",text:"We have a lot of real estate projects under our belt. We deliver with competence",children:Object(h.jsx)(b.h,{className:"service__icon"})})]})]}),Object(h.jsxs)("section",{className:"product-section",children:[Object(h.jsx)(g,{text:"Products"}),Object(h.jsx)("div",{className:"product-container",children:c.map((function(e){return Object(h.jsx)(f,{handleClick:function(){return t=e._id,void r.push("/product/".concat(t));var t},image:e.image,name:e.name,price:e.price,showPrice:!0},e._id)}))})]}),Object(h.jsxs)("section",{id:"about",className:"about-section",children:[Object(h.jsx)(g,{text:"about us"}),Object(h.jsx)("p",{className:"about--tagline",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Accusantium, eaque."}),Object(h.jsxs)("div",{className:"about__content-container",children:[Object(h.jsx)(x,{title:"our mission",text:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Accusantium"}),Object(h.jsx)(O,{})]}),Object(h.jsxs)("div",{className:"about__content-container",children:[Object(h.jsx)(x,{title:"our vision",text:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Accusantium"}),Object(h.jsx)("div",{style:{order:-1},children:Object(h.jsx)(O,{})})]})]}),Object(h.jsx)(m,{}),Object(h.jsx)(B,{items:2})]})},M=function(e){e.handleSort;var t=e.show,c=void 0!==t&&t;return Object(h.jsxs)("div",{className:"sort-container",children:[Object(h.jsxs)("select",{className:"sort",name:"",id:"",children:[Object(h.jsx)("option",{value:"",children:"Default sorting"}),Object(h.jsx)("option",{value:"",children:"HardWare"}),Object(h.jsx)("option",{value:"",children:"Furniture"}),Object(h.jsx)("option",{value:"",children:"Finishing"})]}),c&&Object(h.jsx)("p",{className:"sort-tagline",children:"Showing all 20 results"})]})},Q=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],r=t[1];Object(n.useEffect)((function(){A().then((function(e){r(e)})).catch((function(e){return Object(j.b)("Error connecting to the server")}))}),[]);var s=Object(l.g)();return Object(h.jsx)(a.a.Fragment,{children:Object(h.jsxs)("div",{className:"block",children:[Object(h.jsx)(p,{}),Object(h.jsx)("div",{className:"product-page-header-container",children:Object(h.jsx)(g,{text:"Products"})}),Object(h.jsx)(M,{show:!0}),Object(h.jsx)("div",{className:"product-container",children:c.map((function(e){return Object(h.jsx)(f,{handleClick:function(){var t;t=e._id,s.push("/product/".concat(t))},name:e.name,price:e.price,showPrice:!0,image:e.image},e._id)}))}),Object(h.jsx)("div",{className:"divider"}),Object(h.jsx)(m,{}),Object(h.jsx)(B,{})]})})},Y=function(){var e=Object(l.h)().id,t=Object(l.g)(),c=Object(n.useState)([]),a=Object(u.a)(c,2),r=a[0],s=a[1],i=Object(n.useState)(e),o=Object(u.a)(i,2),b=o[0],O=o[1],x=Object(n.useState)({}),v=Object(u.a)(x,2),N=v[0],y=v[1],k=Object(n.useState)(""),w=Object(u.a)(k,2),_=(w[0],w[1]);Object(n.useEffect)((function(){A().then((function(t){s(t.filter((function(t){return t._id!==e})))})).catch((function(e){return Object(j.b)("Error connecting to the server")})),function(e){return H.apply(this,arguments)}(e).then((function(e){y(e)})).catch((function(e){return Object(j.b)("Error connecting to the server")}))}),[b]);if(localStorage.getItem("token")){var q=localStorage.getItem("token");Object(d.a)(q)}return Object(h.jsxs)("div",{className:"block",children:[Object(h.jsx)(p,{}),Object(h.jsx)("div",{className:"product-page-header-container",children:Object(h.jsx)(g,{text:N.name})}),Object(h.jsxs)("div",{className:"description-container",children:[Object(h.jsx)("img",{src:N.image,className:"description-image"}),Object(h.jsxs)("div",{className:"description-content",children:[Object(h.jsx)("h3",{className:"description-title",children:N.name}),Object(h.jsxs)("p",{className:"description-price",children:["GHS ",N.price]}),Object(h.jsx)("h4",{className:"description-tagline",children:"Description"}),Object(h.jsxs)("p",{className:"description-text",children:[N.description," "]}),Object(h.jsx)("button",{onClick:function(){!function(e){var t=localStorage.getItem("cart");if(!t)return t=[Object(C.a)(Object(C.a)({},e),{},{quantity:1,amount:e.price})],void localStorage.setItem("cart",JSON.stringify(t));var c=(t=JSON.parse(t)).findIndex((function(t){return t._id===e._id}));if(c<0)return t=[].concat(Object(S.a)(t),[Object(C.a)(Object(C.a)({},e),{},{quantity:1,amount:e.price})]),void localStorage.setItem("cart",JSON.stringify(t));var n=t[c];n.quantity=n.quantity+1,n.amount=n.quantity*n.price,t[c]=n,localStorage.setItem("cart",JSON.stringify(t))}(N),_(N)},className:"button button--primary",children:"ADD TO CART"})]})]}),Object(h.jsx)(M,{}),Object(h.jsx)("div",{className:"product-container",children:r.map((function(e){return Object(h.jsx)(f,{image:e.image,name:e.name,price:e.price,showPrice:!0,handleClick:function(){return function(e){O(e),t.push("/product/".concat(e))}(e._id)}},e._id)}))}),Object(h.jsx)("div",{className:"divider"}),Object(h.jsx)(m,{}),Object(h.jsx)(B,{})]})},z=c(20),K=c(11),X=function(e){var t=e.handleChange,c=e.name,n=e.type,a=e.value,r=void 0===a?"":a,s=e.placeholder;return Object(h.jsx)("input",{onChange:t,type:n,placeholder:s,name:c,className:"input",value:r})},Z=function(e){var t=e.text;return Object(h.jsx)("p",{className:"error",children:t})};function $(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(_.a)(w.a.mark((function e(t){var c,n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.post("/users/login",t);case 3:if(c=e.sent,n=c.data,localStorage.setItem("token",n),a=Object(d.a)(n),Object(j.b)("You are successfully logged in"),!a.isAdmin){e.next=10;break}return e.abrupt("return",window.location="/dashboard");case 10:window.location="/",e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function te(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(_.a)(w.a.mark((function e(t){var c,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.post("users/register",t);case 3:c=e.sent,n=c.data,localStorage.setItem("token",n),Object(j.b)("You are successfully registered"),window.location="/",e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var ne=function(){return Object(h.jsx)("div",{class:"spinner"})},ae=function(){var e=K.b().shape({email:K.c().email("Invalid email").required("Email is required"),password:K.c().required("Password is required")}),t=Object(n.useState)(!1),c=Object(u.a)(t,2),a=c[0],r=c[1];return Object(h.jsxs)("div",{className:"block",children:[Object(h.jsx)(p,{}),Object(h.jsxs)("div",{className:"form-container",children:[Object(h.jsx)(g,{text:"Login"}),Object(h.jsx)(z.b,{initialValues:{email:"",password:""},onSubmit:function(){var e=Object(_.a)(w.a.mark((function e(t){var c,n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,$(t);case 4:e.next=15;break;case 6:if(e.prev=6,e.t0=e.catch(0),c=e.t0.response,n=c.data,a=c.status,r(!1),400!==a){e.next=14;break}return e.abrupt("return",Object(j.b)(n));case 14:Object(j.b)("Unexpected error. Try again");case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),validationSchema:e,children:function(e){var t=e.handleChange,c=e.errors,n=e.touched;return Object(h.jsxs)(z.a,{children:[n.email&&c.email&&Object(h.jsx)(Z,{text:c.email}),Object(h.jsx)(X,{handleChange:t,name:"email",type:"email",placeholder:"Email"}),n.password&&c.password&&Object(h.jsx)(Z,{text:c.password}),Object(h.jsx)(X,{handleChange:t,name:"password",type:"password",placeholder:"Password"}),!a&&Object(h.jsx)(N,{text:"Login",type:"button--primary button--large"}),Object(h.jsx)("div",{className:"spiner-container",children:a&&Object(h.jsx)(ne,{})})]})}}),Object(h.jsx)(i.b,{className:"register-login",to:"/register",children:"Don't have an account? Sign up"})]})]})},re=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),c=t[0],a=t[1],r=K.b().shape({username:K.c().required("Username is required"),email:K.c().email("Invalid email").required("Email is required"),password:K.c().min(6,"Password too short").required("Password is required"),phone:K.c().min(10,"Number must be 10 degits").max(10,"Number must be 10 digits").required("Number is required")});return Object(h.jsxs)("div",{className:"block",children:[Object(h.jsx)(p,{}),Object(h.jsxs)("div",{className:"form-container",children:[Object(h.jsx)(g,{text:"Register"}),Object(h.jsx)(z.b,{initialValues:{username:"",password:"",phone:"",email:""},validationSchema:r,onSubmit:function(){var e=Object(_.a)(w.a.mark((function e(t){var c,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,te(t);case 4:e.next=15;break;case 6:if(e.prev=6,e.t0=e.catch(0),c=e.t0.response,n=c.data,r=c.status,a(!1),400!==r){e.next=14;break}return e.abrupt("return",Object(j.b)(n));case 14:Object(j.b)("Unexpected error. Try again");case 15:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,n=e.touched,a=e.handleChange;return Object(h.jsxs)(z.a,{children:[n.username&&t.username&&Object(h.jsx)(Z,{text:t.username}),Object(h.jsx)(X,{handleChange:a,name:"username",type:"text",placeholder:"Username"}),n.email&&t.email&&Object(h.jsx)(Z,{text:t.email}),Object(h.jsx)(X,{handleChange:a,name:"email",type:"email",placeholder:"Email"}),n.phone&&t.phone&&Object(h.jsx)(Z,{text:t.phone}),Object(h.jsx)(X,{handleChange:a,name:"phone",type:"phone",placeholder:"Phone number"}),n.password&&t.password&&Object(h.jsx)(Z,{text:t.password}),Object(h.jsx)(X,{handleChange:a,name:"password",type:"password",placeholder:"Password"}),!c&&Object(h.jsx)(N,{text:"Sign Up",type:"button--primary button--large"}),Object(h.jsx)("div",{className:"spiner-container",children:c&&Object(h.jsx)(ne,{})})]})}}),Object(h.jsx)(i.b,{className:"register-login",to:"/login",children:"Already have an account? Sign In"})]})]})},se=function(){return Object(n.useEffect)((function(){localStorage.removeItem("token"),window.location="/"}),[]),null},ie=c(237),oe=c(102),le=c.n(oe);function je(e,t,c){var n=(t-1)*c;return le()(e).slice(n).take(c).value()}var de=function(e){var t=e.children,c=e.handleClick;return Object(h.jsx)("div",{onClick:c,className:"floating-button",children:t})},ue=function(){var e=K.b().shape({name:K.c().required("Category name is required")}),t=Object(n.useState)([]),c=Object(u.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(1),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(n.useState)(!1),m=Object(u.a)(d,2),O=m[0],x=m[1],p=Object(n.useState)(""),f=Object(u.a)(p,2),v=f[0],y=f[1],k=Object(n.useState)(""),S=Object(u.a)(k,2),C=S[0],q=S[1];Object(n.useEffect)((function(){F().then((function(e){r(e)})).catch((function(e){e.response;Object(j.b)("unexpected error. Please check your internet connection")}))}),[v]);var P=Math.ceil(a.length/15);return P=Array.from({length:P},(function(e,t){return t+1})),a=je(a,o,15),Object(h.jsxs)("div",{children:[Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"thead",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Category Name"}),Object(h.jsx)("th",{children:"Date Created"})]})}),Object(h.jsx)("tbody",{children:a.map((function(e){var t=e.name,c=e.created_at,n=e._id;return Object(h.jsxs)("tr",{onClick:function(){return function(e){var t=a.find((function(t){return t._id===e}));y(t),q(e),x(!0)}(n)},className:"product-row",children:[Object(h.jsx)("td",{children:t}),Object(h.jsx)("td",{children:c.toString().substr(0,10)})]},n)}))})]}),Object(h.jsxs)(ie.a,{show:O,onHide:function(){x(!1)},children:[Object(h.jsx)(ie.a.Header,{children:Object(h.jsx)(g,{text:"Category Form"})}),Object(h.jsx)(ie.a.Body,{children:Object(h.jsx)(z.b,{initialValues:{name:v?v.name:""},validationSchema:e,onSubmit:function(){var e=Object(_.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=3;break}return J(t).then((function(e){var t=e._id;y(t),x(!1)})).catch((function(e){var t=e.response,c=t.data;if(t.status<500)return Object(j.b)(c);Object(j.b)("Unexpected error. Try again")})),e.abrupt("return");case 3:G(C,t).then((function(e){q(""),y(e),x(!1)})).catch((function(e){var t=e.response,c=t.data,n=t.status;return 402===n?(Object(j.b)(c),q(""),y(c),void x(!1)):n<500?Object(j.b)(c):void Object(j.b)("Unexpected error. Try again")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.handleChange,c=e.touched,n=e.errors,a=e.values;return Object(h.jsx)("div",{className:"modal-form",children:Object(h.jsx)("div",{className:"form-container",children:Object(h.jsxs)(z.a,{children:[n.name&&c.name&&Object(h.jsx)(Z,{text:n.name}),Object(h.jsx)(X,{handleChange:t,type:"text",name:"name",placeholder:"Category name",value:a.name}),Object(h.jsx)(N,{type:"button--primary button--large",text:"Save category"})]})})})}})}),Object(h.jsx)(ie.a.Footer,{})]}),Object(h.jsx)("div",{className:"pages",children:Object(h.jsx)("nav",{"aria-label":"Page navigation example",children:Object(h.jsx)("ul",{className:"pagination",children:P.map((function(e){return Object(h.jsx)("li",{onClick:function(){l(e)},className:e===o?"page-item active":"page-item",children:Object(h.jsx)("a",{className:"page-link",href:"#",children:e})},e)}))})})}),Object(h.jsx)(de,{handleClick:function(){y(""),q(""),x(!0)},children:Object(h.jsx)(b.j,{className:"floating-icon"})})]})},be=function(e){var t=e.reference,c=e.cart,n=e.handleHide;return Object(h.jsx)("div",{style:{marginTop:"200px"},children:Object(h.jsxs)(ie.a,{onHide:n,show:!0,children:[Object(h.jsx)(ie.a.Header,{children:Object(h.jsx)(g,{text:"Order Reference ".concat(t)})}),Object(h.jsx)(ie.a.Body,{children:Object(h.jsxs)("table",{className:"table thead thead",children:[Object(h.jsx)("thead",{className:"thead",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Product Name"}),Object(h.jsx)("th",{children:"Product Price"}),Object(h.jsx)("th",{children:"Quantity Bought"})]})}),Object(h.jsx)("tbody",{children:c.map((function(e){var t=e.name,c=e.price,n=e.quantity;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t}),Object(h.jsx)("td",{children:c}),Object(h.jsx)("td",{children:n})]})}))})]})}),Object(h.jsx)(ie.a.Footer,{})]})})},he=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(1),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(!1),d=Object(u.a)(l,2),b=d[0],m=d[1],O=Object(n.useState)([]),x=Object(u.a)(O,2),p=x[0],f=x[1],g=Object(n.useState)(""),v=Object(u.a)(g,2),N=v[0],y=v[1];Object(n.useEffect)((function(){(function(){return W.apply(this,arguments)})().then((function(e){a(e)})).catch((function(e){var t=e.response,c=t.data;if(t.status<500)return Object(j.b)(c);Object(j.b)("Unexpected error. Please check your internet connection")}))}),[]);var k=Math.ceil(c.length/15);return k=Array.from({length:k},(function(e,t){return t+1})),c=je(c,i,15),Object(h.jsxs)("div",{children:[Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"thead",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Order Reference"}),Object(h.jsx)("th",{children:"Order Date"}),Object(h.jsx)("th",{children:"Amount (GHS)"}),Object(h.jsx)("th",{children:"Ordered By"})]})}),Object(h.jsx)("tbody",{children:c.map((function(e){var t=e.reference,n=e.amount,a=e._id,r=e.dateOrdered,s=e.user.email;return Object(h.jsxs)("tr",{className:"product-row",onClick:function(){return function(e){var t=c.find((function(t){return t._id===e}));y(t.reference),f(t.cart),m(!0),console.log(N)}(a)},children:[Object(h.jsx)("td",{children:t}),Object(h.jsx)("td",{children:r.toString().substr(0,10)}),Object(h.jsx)("td",{children:n}),Object(h.jsx)("td",{children:s})]},a)}))})]}),Object(h.jsx)("div",{className:"pages",children:Object(h.jsx)("nav",{"aria-label":"Page navigation example",children:Object(h.jsx)("ul",{className:"pagination",children:k.map((function(e){return Object(h.jsx)("li",{onClick:function(){o(e)},className:e===i?"page-item active":"page-item",children:Object(h.jsx)("a",{className:"page-link",href:"#",children:e})},e)}))})})}),b&&Object(h.jsx)(be,{handleHide:function(){m(!1)},cart:p,reference:N})]})},me=(c(95),function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(1),s=Object(u.a)(r,2),i=s[0],o=s[1],d=Object(l.g)();Object(n.useEffect)((function(){A().then((function(e){a(e)})).catch((function(e){var t=e.response,c=t.status,n=t.data;if(c<500)return Object(j.b)(n);Object(j.b)("Unexpected error. Try again")}))}),[]);var m=Math.ceil(c.length/15);return m=Array.from({length:m},(function(e,t){return t+1})),c=je(c,i,15),Object(h.jsxs)("div",{children:[Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"thead",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Product Name"}),Object(h.jsx)("th",{children:"Price (GHS)"}),Object(h.jsx)("th",{children:"Quantity"}),Object(h.jsx)("th",{children:"Category"}),Object(h.jsx)("th",{children:"Last Modified"})]})}),Object(h.jsx)("tbody",{children:c.map((function(e){var t=e.name,c=e.price,n=e._id,a=e.quantity,r=e.category,s=e.lastModified;return Object(h.jsxs)("tr",{className:"product-row",children:[Object(h.jsx)("td",{children:t}),Object(h.jsx)("td",{children:c}),Object(h.jsx)("td",{children:a}),Object(h.jsx)("td",{children:r.name}),Object(h.jsx)("td",{children:s.toString().substr(0,10)})]},n)}))})]}),Object(h.jsx)("div",{className:"pages",children:Object(h.jsx)("nav",{"aria-label":"Page navigation example",children:Object(h.jsx)("ul",{class:"pagination",children:m.map((function(e){return Object(h.jsx)("li",{onClick:function(){return function(e){o(e)}(e)},class:e===i?"page-item active":"page-item",children:Object(h.jsx)("a",{class:"page-link",href:"#",children:e})},e)}))})})}),Object(h.jsx)(de,{handleClick:function(){d.push("/add-product")},children:Object(h.jsx)(b.j,{className:"floating-icon"})})]})}),Oe=function(){var e=Object(n.useState)("categories"),t=Object(u.a)(e,2),c=t[0],a=t[1],r=function(e,t){e.preventDefault(),a(t)};return Object(h.jsxs)("div",{className:"block",children:[Object(h.jsx)(p,{}),Object(h.jsxs)("div",{className:"dashboard",children:[Object(h.jsx)("div",{className:"navigation",children:Object(h.jsxs)("ul",{className:"dashboard-links",children:[Object(h.jsx)("li",{className:"mobile-list--item",children:Object(h.jsx)("a",{href:"#",onClick:function(e){return r(e,"categories")},className:"categories"===c?"mobile--link active-link":"mobile--link",children:"Categories"})}),Object(h.jsx)("li",{className:"mobile-list--item",children:Object(h.jsx)("a",{href:"#",onClick:function(e){return r(e,"products")},className:"products"===c?"mobile--link active-link":"mobile--link",children:"Products"})}),Object(h.jsx)("li",{className:"mobile-list--item",children:Object(h.jsx)("a",{href:"#",onClick:function(e){return r(e,"orders")},className:"orders"===c?"mobile--link active-link":"mobile--link",children:"Orders"})}),Object(h.jsx)("li",{className:"mobile-list--item",children:Object(h.jsx)("a",{href:"#",onClick:function(e){return r(e,"users")},className:"users"===c?"mobile--link active-link":"mobile--link",children:"Users"})})]})}),Object(h.jsxs)("div",{className:"content-section",children:["categories"===c&&Object(h.jsx)(ue,{}),"products"===c&&Object(h.jsx)(me,{}),"orders"===c&&Object(h.jsx)(he,{})]})]}),Object(h.jsx)(m,{})]})},xe=c(104),pe=function(){var e=JSON.parse(localStorage.getItem("cart"))||[],t=Object(n.useState)(e),c=Object(u.a)(t,2),a=c[0],r=c[1],s=function(e){var t=0;return e.map((function(e){t+=e.amount})),t},i=localStorage.getItem("token"),o=Object(d.a)(i),l={reference:(new Date).getTime().toString(),email:o.email,amount:100*s(a),publicKey:"pk_test_f6096b2cf6577c0741535bde96177c80513ffc3a",currency:"GHS"},b=function(e){var t=e.reference,c=s(a);(function(e){return T.apply(this,arguments)})({cart:a,user:o._id,reference:t,amount:c}).then((function(e){window.location="/"})).catch((function(e){var t=e.response,c=t.status,n=t.data;if(console.log(c,n),c<500)return Object(j.b)(n);Object(j.b)("Unexpected error. Please contact our office lines")}))},m=function(){Object(j.b)("Order cancelled")},O=Object(xe.a)(l);return Object(h.jsxs)("div",{className:"block",children:[Object(h.jsx)(p,{}),Object(h.jsxs)("div",{className:"checkout-container",children:[Object(h.jsx)(g,{text:"Review Cart"}),Object(h.jsxs)("table",{className:"table product-table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Product name"}),Object(h.jsx)("th",{children:"Price (GHS)"}),Object(h.jsx)("th",{children:"Quantity"}),Object(h.jsx)("th",{children:"Amount (GHS)"}),Object(h.jsx)("th",{}),Object(h.jsx)("th",{}),Object(h.jsx)("th",{})]})}),Object(h.jsx)("tbody",{children:a.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:e.price}),Object(h.jsx)("td",{children:e.quantity}),Object(h.jsx)("td",{children:e.amount}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:function(){return function(e){var t=Object(S.a)(a),c=t.findIndex((function(t){return t._id===e})),n=t[c];if(1===n.quantity)return t=t.filter((function(t){return t._id!==e})),r(t),void localStorage.setItem("cart",JSON.stringify(t));n.quantity=n.quantity-1,n.amount=n.quantity*n.price,t[c]=n,r(t),localStorage.setItem("cart",JSON.stringify(t))}(e._id)},className:"btn btn-secondary",children:"-"})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:function(){return function(e){var t=Object(S.a)(a),c=t.findIndex((function(t){return t._id===e})),n=t[c];n.quantity=n.quantity+1,n.amount=n.quantity*n.price,t[c]=n,r(t),localStorage.setItem("cart",JSON.stringify(t))}(e._id)},className:"btn btn-primary",children:"+"})}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:function(){return function(e){var t=Object(S.a)(a);t=t.filter((function(t){return t._id!==e})),r(t),localStorage.setItem("cart",JSON.stringify(t))}(e._id)},className:"btn btn-danger",children:"Delete"})})]},e._id)}))})]}),a.length>0&&Object(h.jsxs)("div",{className:"checkout-region",children:[Object(h.jsxs)("h4",{className:"amount",children:["GHS ",s(a),".00"]}),Object(h.jsx)("button",{onClick:function(){return O(b,m)},className:"button button--primary",children:"Checkout"})]})]})]})},fe=function(){var e=K.b().shape({name:K.c().required("Product name is required").max(20,"Name must be less than 20 characters"),price:K.a().min(1,"Price must be greater than 0").required("Price is required"),quantity:K.a().min(1,"Quantity must be greater than 0").required("Quantity is required"),category:K.c().required("Category is required"),description:K.c(),image:K.c().required("Product image is required")}),t=Object(n.useState)([]),c=Object(u.a)(t,2),a=c[0],r=c[1];return Object(n.useEffect)((function(){F().then((function(e){r(e)})).catch((function(e){var t=e.response,c=t.data;if(t.status<500)return Object(j.b)(c);Object(j.b)("nexpected error. Please refresh the page")}))}),[]),Object(h.jsxs)("div",{className:"block",children:[Object(h.jsx)(p,{}),Object(h.jsxs)("div",{className:"form-container",children:[Object(h.jsx)(g,{text:"Product Form"}),Object(h.jsx)(z.b,{onSubmit:function(e){console.log(e)},validationSchema:e,initialValues:{name:"",price:"",description:"",quantity:"",category:"",image:""},children:function(e){var t=e.touched,c=e.handleChange,n=e.errors;return Object(h.jsxs)(z.a,{children:[t.name&&n.name&&Object(h.jsx)(Z,{text:n.name}),Object(h.jsx)(X,{name:"name",placeholder:"Product name",handleChange:c,type:"text"}),t.price&&n.price&&Object(h.jsx)(Z,{text:n.price}),Object(h.jsx)(X,{name:"price",placeholder:"Product price",handleChange:c,type:"number"}),t.quantity&&n.quantity&&Object(h.jsx)(Z,{text:n.quantity}),Object(h.jsx)(X,{name:"quantity",placeholder:"Quantity",handleChange:c,type:"number"}),t.category&&n.category&&Object(h.jsx)(Z,{text:n.category}),Object(h.jsxs)("select",{onChange:c,className:"input",name:"category",children:[Object(h.jsx)("option",{value:"",children:"Choose category"}),a.map((function(e){var t=e.name,c=e._id;return Object(h.jsx)("option",{value:c,children:t},c)}))]}),t.description&&n.description&&Object(h.jsx)(Z,{text:n.description}),Object(h.jsx)("textarea",{onChange:c,className:"input",name:"description",id:"",cols:"30",rows:"5",placeholder:"Description"}),t.image&&n.image&&Object(h.jsx)(Z,{text:n.image}),Object(h.jsx)(X,{name:"image",handleChange:function(e){return e.target.files[0]},type:"file"}),Object(h.jsx)(N,{text:"Add Product",type:"button--primary button--large"})]})}})]}),Object(h.jsx)("div",{className:"divider"}),Object(h.jsx)(m,{})]})};var ge=function(){var e=null;try{e=Object(d.a)(localStorage.getItem("token"))}catch(t){}return Object(h.jsxs)("div",{children:[Object(h.jsx)(j.a,{}),Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{path:"/products",children:Object(h.jsx)(Q,{})}),Object(h.jsx)(l.b,{path:"/product/:id",children:Object(h.jsx)(Y,{})}),Object(h.jsx)(l.b,{path:"/login",children:Object(h.jsx)(ae,{})}),Object(h.jsx)(l.b,{path:"/register",children:Object(h.jsx)(re,{})}),Object(h.jsx)(l.b,{path:"/dashboard",render:function(t){return Object(o.a)(t),e&&e.isAdmin?Object(h.jsx)(Oe,{}):Object(h.jsx)(l.a,{path:"/"})}}),Object(h.jsx)(l.b,{path:"/add-product",render:function(t){return Object(o.a)(t),e&&e.isAdmin?Object(h.jsx)(fe,{}):Object(h.jsx)(l.a,{path:"/"})}}),Object(h.jsx)(l.b,{path:"/checkout",render:function(t){return Object(o.a)(t),e?Object(h.jsx)(pe,{}):Object(h.jsx)(l.a,{path:"/"})}}),Object(h.jsx)(l.b,{path:"/logout",children:Object(h.jsx)(se,{})}),Object(h.jsx)(l.b,{path:"/",children:Object(h.jsx)(R,{})})]})]})},ve=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,238)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(i.a,{children:Object(h.jsx)(ge,{})})}),document.getElementById("root")),ve()},64:function(e,t,c){}},[[235,1,2]]]);
//# sourceMappingURL=main.77857f7d.chunk.js.map